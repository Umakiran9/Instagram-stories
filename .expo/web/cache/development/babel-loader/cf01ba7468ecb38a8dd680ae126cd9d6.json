{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\SOAL\\\\Milestones\\\\Milestone10\\\\MS_Instagram-stories_Monoceros_Tep_Hyderabad_Full-time_2020_1\\\\Frontend\\\\Components\\\\Main.js\";\nimport styles from \"./style\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport { Video } from \"expo\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { LinearGradient } from \"expo-linear-gradient\";\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nexport default function App() {\n  var _this = this;\n\n  var _useState = useState([{\n    content: \"https://media3.giphy.com/media/W02Q81vBTyusK4ekCg/giphy.gif?cid=6c09b952fa7d367a0f51202a83bd1e2c2762cedb8ce59c0d&rid=giphy.gif\",\n    type: \"image\",\n    finish: 0\n  }, {\n    content: \"https://i.gifer.com/7d28.gif\",\n    type: \"image\",\n    finish: 0\n  }, {\n    content: \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQ9tA4VfOZiuyUnn2YC8MbXC7Iy_sLTfIhxes1osd8EsDTjmksBus0KNyjCI9uL-wyIxAE3S2TVapRubj1YUO52t3MH-T0zkOLdOw&usqp=CAU&ec=45702846\",\n    type: \"image\",\n    finish: 0\n  }, {\n    content: \"https://i.gifer.com/QthY.gif\",\n    type: \"image\",\n    finish: 0\n  }, {\n    content: \"https://i.pinimg.com/originals/e8/8b/eb/e88bebb61c7bb76bdb682fffce404a65.jpg\",\n    type: \"image\",\n    finish: 0\n  }, {\n    content: \"https://i.pinimg.com/originals/b7/61/99/b76199968f0a0ee1c426ad69aea7358c.jpg\",\n    type: \"image\",\n    finish: 0\n  }, {\n    content: \"https://i.pinimg.com/736x/39/d2/61/39d261311bf9cfa451fbd941a68ff5cc.jpg\",\n    type: \"image\",\n    finish: 0\n  }, {\n    content: \"https://i.redd.it/5rib0ovuomp41.jpg\",\n    type: \"image\",\n    finish: 0\n  }, {\n    content: \"https://i.redd.it/to49ud9esdn41.jpg\",\n    type: \"image\",\n    finish: 0\n  }]),\n      _useState2 = _slicedToArray(_useState, 2),\n      content = _useState2[0],\n      setContent = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalVisible = _useState4[0],\n      setModalVisible = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      end = _useState6[0],\n      setEnd = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      current = _useState8[0],\n      setCurrent = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      load = _useState10[0],\n      setLoad = _useState10[1];\n\n  var progress = useRef(new Animated.Value(0)).current;\n\n  function start(n) {\n    if (content[current].type == \"video\") {\n      if (load) {\n        Animated.timing(progress, {\n          toValue: 1,\n          duration: n\n        }).start(function (_ref) {\n          var finished = _ref.finished;\n\n          if (finished) {\n            next();\n          }\n        });\n      }\n    } else {\n      Animated.timing(progress, {\n        toValue: 1,\n        duration: 5000\n      }).start(function (_ref2) {\n        var finished = _ref2.finished;\n\n        if (finished) {\n          next();\n        }\n      });\n    }\n  }\n\n  function play() {\n    start(end);\n  }\n\n  function next() {\n    if (current !== content.length - 1) {\n      var data = _toConsumableArray(content);\n\n      data[current].finish = 1;\n      setContent(data);\n      setCurrent(current + 1);\n      progress.setValue(0);\n      setLoad(false);\n    } else {\n      close();\n    }\n  }\n\n  function previous() {\n    if (current - 1 >= 0) {\n      var data = _toConsumableArray(content);\n\n      data[current].finish = 0;\n      setContent(data);\n      setCurrent(current - 1);\n      progress.setValue(0);\n      setLoad(false);\n    } else {\n      close();\n    }\n  }\n\n  function close() {\n    progress.setValue(0);\n    setLoad(false);\n    setModalVisible(false);\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    backgroundColor: \"black\",\n    barStyle: \"light-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }), React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: false,\n    visible: modalVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.containerModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.backgroundContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, content[current].type == \"video\" ? React.createElement(Video, {\n    source: {\n      uri: content[current].content\n    },\n    rate: 1.0,\n    volume: 1.0,\n    resizeMode: \"cover\",\n    shouldPlay: true,\n    positionMillis: 0,\n    onReadyForDisplay: play(),\n    onPlaybackStatusUpdate: function onPlaybackStatusUpdate(AVPlaybackStatus) {\n      console.log(AVPlaybackStatus);\n      setLoad(AVPlaybackStatus.isLoaded);\n      setEnd(AVPlaybackStatus.durationMillis);\n    },\n    style: {\n      height: height,\n      width: width\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }) : React.createElement(Image, {\n    onLoadEnd: function onLoadEnd() {\n      progress.setValue(0);\n      play();\n    },\n    source: {\n      uri: content[current].content\n    },\n    style: {\n      width: width,\n      height: height,\n      resizeMode: \"cover\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: {\n      flexDirection: \"column\",\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }, React.createElement(LinearGradient, {\n    colors: [\"rgba(0,0,0,1)\", \"transparent\"],\n    style: {\n      position: \"absolute\",\n      left: 0,\n      right: 0,\n      top: 0,\n      height: 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      paddingTop: 10,\n      paddingHorizontal: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  }, content.map(function (index, key) {\n    return React.createElement(View, {\n      key: key,\n      style: {\n        height: 2,\n        flex: 1,\n        flexDirection: \"row\",\n        backgroundColor: \"rgba(117, 117, 117, 0.5)\",\n        marginHorizontal: 2\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 19\n      }\n    }, React.createElement(Animated.View, {\n      style: {\n        flex: current == key ? progress : content[key].finish,\n        height: 2,\n        backgroundColor: \"rgba(255, 255, 255, 1)\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }\n    }));\n  })), React.createElement(View, {\n    style: {\n      height: 50,\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      paddingHorizontal: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: \"row\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  }, React.createElement(Image, {\n    style: {\n      height: 30,\n      width: 30,\n      borderRadius: 25\n    },\n    source: {\n      uri: \"https://images.pexels.com/photos/2756845/pexels-photo-2756845.jpeg?cs=srgb&dl=code-coder-programmer-programming-2756845.jpg&fm=jpg\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      color: \"white\",\n      paddingLeft: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }, \"Love Coding\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      close();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: {\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      height: 50,\n      paddingHorizontal: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  }, React.createElement(Ionicons, {\n    name: \"ios-close\",\n    size: 28,\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 19\n    }\n  })))), React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: \"row\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return previous();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 17\n    }\n  })), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return next();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 17\n    }\n  })))))), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return setModalVisible(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: \"https://images.pexels.com/photos/2756845/pexels-photo-2756845.jpeg?cs=srgb&dl=code-coder-programmer-programming-2756845.jpg&fm=jpg\"\n    },\n    style: {\n      height: 70,\n      width: 70,\n      borderRadius: 50\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 11\n    }\n  }))), React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      color: \"#D62976\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }\n  }, \"Instagram Stories feature on React-Native\"));\n}","map":{"version":3,"sources":["C:/Users/user/Desktop/SOAL/Milestones/Milestone10/MS_Instagram-stories_Monoceros_Tep_Hyderabad_Full-time_2020_1/Frontend/Components/Main.js"],"names":["styles","React","useState","useEffect","useRef","Video","Ionicons","LinearGradient","Dimensions","get","width","height","App","content","type","finish","setContent","modalVisible","setModalVisible","end","setEnd","current","setCurrent","load","setLoad","progress","Animated","Value","start","n","timing","toValue","duration","finished","next","play","length","data","setValue","close","previous","container","containerModal","backgroundContainer","uri","AVPlaybackStatus","console","log","isLoaded","durationMillis","resizeMode","flexDirection","flex","position","left","right","top","paddingTop","paddingHorizontal","map","index","key","backgroundColor","marginHorizontal","justifyContent","alignItems","borderRadius","fontWeight","color","paddingLeft"],"mappings":"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","sourcesContent":["\r\n\r\nimport styles from './style';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n \r\n  Text,\r\n  View,\r\n  Dimensions,\r\n  TouchableWithoutFeedback,\r\n  Image,\r\n  Modal,\r\n  Animated,\r\n  StatusBar,\r\n  Button,\r\n  TouchableOpacity,\r\n  BackHandler,\r\n} from \"react-native\";\r\nimport { Video } from \"expo\";\r\nimport { Ionicons } from \"@expo/vector-icons\";\r\nimport { LinearGradient } from \"expo-linear-gradient\";\r\nconst { width, height } = Dimensions.get(\"window\");\r\nexport default function App() {\r\n  const [content, setContent] = useState([\r\n    {\r\n      content:\r\n        \"https://media3.giphy.com/media/W02Q81vBTyusK4ekCg/giphy.gif?cid=6c09b952fa7d367a0f51202a83bd1e2c2762cedb8ce59c0d&rid=giphy.gif\",\r\n      type: \"image\",\r\n      finish: 0,\r\n    },\r\n    {\r\n      content:\r\n        \"https://i.gifer.com/7d28.gif\",\r\n      type: \"image\",\r\n      finish: 0,\r\n    },\r\n    {\r\n      content:\r\n        \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQ9tA4VfOZiuyUnn2YC8MbXC7Iy_sLTfIhxes1osd8EsDTjmksBus0KNyjCI9uL-wyIxAE3S2TVapRubj1YUO52t3MH-T0zkOLdOw&usqp=CAU&ec=45702846\",\r\n      type: \"image\",\r\n      finish: 0,\r\n    },\r\n    {\r\n      content:\r\n        \"https://i.gifer.com/QthY.gif\",\r\n      type: \"image\",\r\n      finish: 0,\r\n    },\r\n    {\r\n      content:\r\n        \"https://i.pinimg.com/originals/e8/8b/eb/e88bebb61c7bb76bdb682fffce404a65.jpg\",\r\n      type: \"image\",\r\n      finish: 0,\r\n    },\r\n    {\r\n      content:\r\n        \"https://i.pinimg.com/originals/b7/61/99/b76199968f0a0ee1c426ad69aea7358c.jpg\",\r\n      type: \"image\",\r\n      finish: 0,\r\n    },\r\n    {\r\n      content:\r\n        \"https://i.pinimg.com/736x/39/d2/61/39d261311bf9cfa451fbd941a68ff5cc.jpg\",\r\n      type: \"image\",\r\n      finish: 0,\r\n    },\r\n    {\r\n      content:\r\n        \"https://i.redd.it/5rib0ovuomp41.jpg\",\r\n      type: \"image\",\r\n      finish: 0,\r\n    },\r\n    {\r\n      content:\r\n        \"https://i.redd.it/to49ud9esdn41.jpg\",\r\n      type: \"image\",\r\n      finish: 0,\r\n    },\r\n  ]);\r\n\r\n\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [end, setEnd] = useState(0);\r\n  const [current, setCurrent] = useState(0);\r\n  const [load, setLoad] = useState(false);\r\n  const progress = useRef(new Animated.Value(0)).current;\r\n\r\n  function start(n) {\r\n    if (content[current].type == \"video\") {\r\n      if (load) {\r\n        Animated.timing(progress, {\r\n          toValue: 1,\r\n          duration: n,\r\n        }).start(({ finished }) => {\r\n          if (finished) {\r\n            next();\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      Animated.timing(progress, {\r\n        toValue: 1,\r\n        duration: 5000,\r\n      }).start(({ finished }) => {\r\n        if (finished) {\r\n          next();\r\n        }\r\n      });\r\n    }\r\n  }\r\n  function play() {\r\n    start(end);\r\n  }\r\n  function next() {\r\n    if (current !== content.length - 1) {\r\n      let data = [...content];\r\n      data[current].finish = 1;\r\n      setContent(data);\r\n      setCurrent(current + 1);\r\n      progress.setValue(0);\r\n      setLoad(false);\r\n    } else {\r\n      // the next content is empty\r\n      close();\r\n    }\r\n  }\r\n  function previous() {\r\n    // checking if the previous content is not empty\r\n    if (current - 1 >= 0) {\r\n      let data = [...content];\r\n      data[current].finish = 0;\r\n      setContent(data);\r\n      setCurrent(current - 1);\r\n      progress.setValue(0);\r\n      setLoad(false);\r\n    } else {\r\n      // the previous content is empty\r\n      close();\r\n    }\r\n  }\r\n  // closing the modal set the animation progress to 0\r\n  function close() {\r\n    progress.setValue(0);\r\n    setLoad(false);\r\n    setModalVisible(false);\r\n  }\r\n  return (\r\n    \r\n    <View style={styles.container}>\r\n      <StatusBar backgroundColor=\"black\" barStyle=\"light-content\" />\r\n      {/* MODAL */}\r\n      <Modal animationType=\"fade\" transparent={false} visible={modalVisible}>\r\n        <View style={styles.containerModal}>\r\n          <View style={styles.backgroundContainer}>\r\n            {/* check the content type is video or an image */}\r\n            {content[current].type == \"video\" ? (\r\n              <Video\r\n                source={{\r\n                  uri: content[current].content,\r\n                }}\r\n                rate={1.0}\r\n                volume={1.0}\r\n                resizeMode=\"cover\"\r\n                shouldPlay={true}\r\n                positionMillis={0}\r\n                onReadyForDisplay={play()}\r\n                onPlaybackStatusUpdate={(AVPlaybackStatus) => {\r\n                  console.log(AVPlaybackStatus);\r\n                  setLoad(AVPlaybackStatus.isLoaded);\r\n                  setEnd(AVPlaybackStatus.durationMillis);\r\n                }}\r\n                style={{ height: height, width: width }}\r\n              />\r\n            ) : (\r\n              <Image\r\n                onLoadEnd={() => {\r\n                  progress.setValue(0);\r\n                  play();\r\n                }}\r\n                source={{\r\n                  uri: content[current].content,\r\n                }}\r\n                style={{ width: width, height: height, resizeMode: \"cover\" }}\r\n              />\r\n            )}\r\n          </View>\r\n          <View\r\n            style={{\r\n              flexDirection: \"column\",\r\n              flex: 1,\r\n            }}\r\n          >\r\n            <LinearGradient\r\n              colors={[\"rgba(0,0,0,1)\", \"transparent\"]}\r\n              style={{\r\n                position: \"absolute\",\r\n                left: 0,\r\n                right: 0,\r\n                top: 0,\r\n                height: 100,\r\n              }}\r\n            />\r\n            {/* ANIMATION BARS */}\r\n            <View\r\n              style={{\r\n                flexDirection: \"row\",\r\n                paddingTop: 10,\r\n                paddingHorizontal: 10,\r\n              }}\r\n            >\r\n              {content.map((index, key) => {\r\n                return (\r\n                  // BACKGROUND\r\n                  <View\r\n                    key={key}\r\n                    style={{\r\n                      height: 2,\r\n                      flex: 1,\r\n                      flexDirection: \"row\",\r\n                      backgroundColor: \"rgba(117, 117, 117, 0.5)\",\r\n                      marginHorizontal: 2,\r\n                    }}\r\n                  >\r\n                    {/* THE ANIMATION OF THE BAR*/}\r\n                    <Animated.View\r\n                      style={{\r\n                        flex: current == key ? progress : content[key].finish,\r\n                        height: 2,\r\n                        backgroundColor: \"rgba(255, 255, 255, 1)\",\r\n                      }}\r\n                    ></Animated.View>\r\n                  </View>\r\n                );\r\n              })}\r\n            </View>\r\n            {/* END OF ANIMATION BARS */}\r\n            <View\r\n              style={{\r\n                height: 50,\r\n                flexDirection: \"row\",\r\n                justifyContent: \"space-between\",\r\n                paddingHorizontal: 15,\r\n              }}\r\n            >\r\n              {/* AVATAR AND USERNAME  */}\r\n              <View style={{ flexDirection: \"row\", alignItems: \"center\" }}>\r\n                <Image\r\n                  style={{ height: 30, width: 30, borderRadius: 25 }}\r\n                  source={{\r\n                    uri:\r\n                      \"https://images.pexels.com/photos/2756845/pexels-photo-2756845.jpeg?cs=srgb&dl=code-coder-programmer-programming-2756845.jpg&fm=jpg\",\r\n                  }}\r\n                />\r\n                <Text\r\n                  style={{\r\n                    fontWeight: \"bold\",\r\n                    color: \"white\",\r\n                    paddingLeft: 10,\r\n                  }}\r\n                >\r\n                  Love Coding\r\n                </Text>\r\n              </View>\r\n              {/* END OF THE AVATAR AND USERNAME */}\r\n              {/* THE CLOSE BUTTON */}\r\n              <TouchableOpacity\r\n                onPress={() => {\r\n                  close();\r\n                }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    height: 50,\r\n                    paddingHorizontal: 15,\r\n                  }}\r\n                >\r\n                  <Ionicons name=\"ios-close\" size={28} color=\"white\" />\r\n                </View>\r\n              </TouchableOpacity>\r\n              {/* END OF CLOSE BUTTON */}\r\n            </View>\r\n            {/* HERE IS THE HANDLE FOR PREVIOUS AND NEXT PRESS */}\r\n            <View style={{ flex: 1, flexDirection: \"row\" }}>\r\n              <TouchableWithoutFeedback onPress={() => previous()}>\r\n                <View style={{ flex: 1 }}></View>\r\n              </TouchableWithoutFeedback>\r\n              <TouchableWithoutFeedback onPress={() => next()}>\r\n                <View style={{ flex: 1 }}></View>\r\n              </TouchableWithoutFeedback>\r\n            </View>\r\n            {/* END OF THE HANDLE FOR PREVIOUS AND NEXT PRESS */}\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n      {/* END OF MODAL */}\r\n      <TouchableWithoutFeedback onPress={() => setModalVisible(true)}>\r\n        <View>\r\n          <Image\r\n            source={{\r\n              uri:\r\n                \"https://images.pexels.com/photos/2756845/pexels-photo-2756845.jpeg?cs=srgb&dl=code-coder-programmer-programming-2756845.jpg&fm=jpg\",\r\n            }}\r\n            style={{\r\n              height: 70,\r\n              width: 70,\r\n              borderRadius: 50,\r\n            }}\r\n          />\r\n        </View>\r\n      </TouchableWithoutFeedback>\r\n      <Text style={{ fontWeight: \"bold\", color: \"#D62976\" }}>\r\n        Instagram Stories feature on React-Native\r\n      </Text>\r\n      \r\n    </View>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}